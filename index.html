<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Conductor Business Guard</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Conductor Business Guard</h1>
        </header>

        <main>
            <!-- Configuration Section -->
            <section id="configSection" class="metrics-selector">
                <div class="header-controls">
                    <h2>Select Business Metric</h2>
                </div>
                <p class="configuration-description">
                    Select a business metric to monitor. This will determine which performance metrics are most relevant to track.
                </p>
                <div class="metrics-grid">
                    <div class="metric-card" data-metric="conversion_rate">
                        <h3>Conversion Rate</h3>
                        <p>Percentage of visitors who complete a purchase</p>
                    </div>
                    <div class="metric-card disabled" data-metric="bounce_rate">
                        <div class="coming-soon-tag">Coming soon</div>
                        <h3>Bounce Rate</h3>
                        <p>Percentage of visitors who leave without interaction</p>
                    </div>
                    <div class="metric-card disabled" data-metric="page_views">
                        <div class="coming-soon-tag">Coming soon</div>
                        <h3>Page Views</h3>
                        <p>Total number of pages viewed by users</p>
                    </div>
                </div>
            </section>

            <!-- URL Configuration Section -->
            <section id="urlConfigSection" class="url-config-section hidden">
                <div class="header-controls">
                    <h2>Enter URLs in Your Conversion Flow</h2>
                </div>
                <p class="configuration-description">
                    Add the URLs that are part of your conversion flow. These will be analyzed for performance metrics.
                </p>
                <div class="url-inputs-container">
                    <div class="url-input-group">
                        <input type="text" class="url-input" placeholder="https://example.com/page">
                        <button class="remove-url-btn">Remove</button>
                    </div>
                </div>
                <div class="url-config-buttons">
                    <button id="addUrlButton" class="secondary-button">Add Another URL</button>
                    <button id="seeFunctionButton" class="primary-button">See Fitness Functions</button>
                </div>
            </section>

            <!-- Metrics Display Section -->
            <section id="metricsSection" class="metrics-display">
                <div class="header-controls">
                    <h2>Technical Fitness Functions for <span id="businessMetricName">Business Metric</span></h2>
                    <div class="header-buttons">
                        <button id="configureNewButton" class="secondary-button">Change Business Metric</button>
                        <button id="showUrlsButton" class="primary-button">View URLs in Score</button>
                    </div>
                </div>
                
                <div class="fitness-functions" id="fitnessFunctions">
                    <div class="functions-table" id="functionsTable">
                        <table>
                        <thead>
                            <tr>
                                <th>Fitness Function</th>
                                <th>Description</th>
                                <th>6 Months Ago</th>
                                <th>3 Months Ago</th>
                                <th>Current</th>
                                <th>Est. $ Rev Impact</th>
                            </tr>
                        </thead>
                            <tbody id="functionsList">
                                <!-- Fitness functions will be populated here -->
                            </tbody>
                        </table>
                    </div>
                    <p class="select-prompt">Select a business metric to see its technical fitness functions</p>
                    <p class="revenue-note">All potential revenue impact calculations are based on annual revenue of $200M.</p>
                </div>
                
                <!-- Diagnostics section that will be shown when clicking on a URL row -->
                <div class="diagnostics-section hidden" id="diagnosticsSection">
                    <h3>Detailed Diagnostics</h3>
                    <table class="diagnostics-table">
                        <thead>
                            <tr>
                                <th>Metric</th>
                                <th>Value</th>
                            </tr>
                        </thead>
                        <tbody id="diagnosticsTableBody">
                            <!-- Diagnostics will be populated based on the selected metric -->
                        </tbody>
                    </table>
                </div>
            </section>
        </main>

        <div class="how-conductor-uses-button-container">
            <button id="howConductorUsesButton" class="how-conductor-uses-button">How Conductor Uses This</button>
        </div>

        <footer>
            <p>&copy; 2025 Conductor Busines Guard</p>
        </footer>
    </div>
    
    <!-- Diagram page -->
    <div id="diagramPage" class="diagram-page">
        <div class="diagram-header">
            <h2 class="diagram-title">How Conductor Uses This</h2>
            <button id="closeDiagramButton" class="close-diagram-button">&times;</button>
        </div>
        <div class="diagram-container">
            <p class="diagram-description">
                Conductor integrates this metrics dashboard directly into our development workflow to ensure that all code changes maintain or improve technical fitness functions. This proactive approach helps prevent performance regressions and ensures continuous optimization.
            </p>
            
            <div class="diagram-image">
                <svg width="100%" height="400" xmlns="http://www.w3.org/2000/svg">
                    <!-- Background -->
                    <rect width="100%" height="400" fill="#F8F5EE" rx="10" ry="10" />
                    
                    <!-- Boxes -->
                    <rect x="50" y="150" width="150" height="80" fill="#ffffff" stroke="#003366" stroke-width="2" rx="5" ry="5" />
                    <rect x="250" y="150" width="150" height="80" fill="#ffffff" stroke="#003366" stroke-width="2" rx="5" ry="5" />
                    <rect x="450" y="150" width="150" height="80" fill="#ffffff" stroke="#003366" stroke-width="2" rx="5" ry="5" />
                    <rect x="650" y="150" width="150" height="80" fill="#ffffff" stroke="#003366" stroke-width="2" rx="5" ry="5" />
                    
                    <!-- Box labels -->
                    <text x="125" y="180" font-family="'Neuzeit Grotesk', sans-serif" font-size="14" fill="#003366" text-anchor="middle">Fitness Functions Dashboard</text>
                    <text x="125" y="200" font-family="'Neuzeit Grotesk', sans-serif" font-size="12" fill="#003366" text-anchor="middle">Metrics &amp; Targets</text>
                    
                    <text x="325" y="180" font-family="'Neuzeit Grotesk', sans-serif" font-size="14" fill="#003366" text-anchor="middle">Conductor</text>
                    <text x="325" y="200" font-family="'Neuzeit Grotesk', sans-serif" font-size="12" fill="#003366" text-anchor="middle">Multi-Agent System</text>
                    
                    <text x="525" y="180" font-family="'Neuzeit Grotesk', sans-serif" font-size="14" fill="#003366" text-anchor="middle">Code Analysis</text>
                    <text x="525" y="200" font-family="'Neuzeit Grotesk', sans-serif" font-size="12" fill="#003366" text-anchor="middle">Repository Integration</text>
                    
                    <text x="725" y="180" font-family="'Neuzeit Grotesk', sans-serif" font-size="14" fill="#003366" text-anchor="middle">GitHub</text>
                    <text x="725" y="200" font-family="'Neuzeit Grotesk', sans-serif" font-size="12" fill="#003366" text-anchor="middle">PR Validation</text>
                    
                    <!-- Arrows -->
                    <defs>
                        <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="0" refY="3.5" orient="auto">
                            <polygon points="0 0, 10 3.5, 0 7" fill="#CC6633" />
                        </marker>
                    </defs>
                    <line x1="200" y1="190" x2="240" y2="190" stroke="#CC6633" stroke-width="2" marker-end="url(#arrowhead)" />
                    <line x1="400" y1="190" x2="440" y2="190" stroke="#CC6633" stroke-width="2" marker-end="url(#arrowhead)" />
                    <line x1="600" y1="190" x2="640" y2="190" stroke="#CC6633" stroke-width="2" marker-end="url(#arrowhead)" />
                    
                    <!-- Feedback loop -->
                    <path d="M 725 230 C 725 280 125 280 125 230" fill="none" stroke="#003366" stroke-width="2" stroke-dasharray="5,5" />
                    <polygon points="125,240 125,230 135,235" fill="#003366" />
                    
                    <!-- Title -->
                    <text x="400" y="70" font-family="'Neuzeit Grotesk', sans-serif" font-size="24" font-weight="bold" fill="#003366" text-anchor="middle">Conductor Technical Fitness Functions Flow</text>
                    
                    <!-- Description text -->
                    <text x="400" y="320" font-family="'Neuzeit Grotesk', sans-serif" font-size="14" fill="#003366" text-anchor="middle">Metrics dashboard feeds data to Conductor, which analyzes code changes</text>
                    <text x="400" y="340" font-family="'Neuzeit Grotesk', sans-serif" font-size="14" fill="#003366" text-anchor="middle">and validates GitHub PRs to ensure they meet technical fitness targets</text>
                </svg>
            </div>
            
            <p class="diagram-description">
                Key components of this integration:
            </p>
            <ul class="diagram-description">
                <li><strong>Metrics Dashboard:</strong> Tracks technical fitness functions and their target values.</li>
                <li><strong>Conductor Multi-Agent System:</strong> Analyzes code changes and evaluates their impact on established metrics.</li>
                <li><strong>Repository Integration:</strong> Connects directly to your codebase to assess potential changes.</li>
                <li><strong>GitHub PR Validation:</strong> Checks each pull request against fitness function targets before allowing merges.</li>
            </ul>
            <p class="diagram-description">
                This continuous monitoring and validation process ensures that your application maintains high performance standards and prevents technical degradation over time.
            </p>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
